# =============================================================================
# Scoracle Data API - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values

# =============================================================================
# Database Configuration (v7.0 Unified Schema)
# =============================================================================
# PostgreSQL connection string for Neon database
# This should point to the v7.0 schema with unified tables:
#   - players, player_stats
#   - teams, team_stats
#   - stat_definitions, sport_seasons
#   See schema.sql for full definition.
#
# Priority order: NEON_DATABASE_URL_V2 > DATABASE_URL > NEON_DATABASE_URL
#
# Example Neon connection string format:
# DATABASE_URL=postgresql://neondb_owner:password@ep-xxx-pooler.region.azure.neon.tech/neondb?sslmode=require&channel_binding=require
DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require

# Alternative Neon-specific variables (checked if DATABASE_URL is not set)
# NEON_DATABASE_URL_V2=postgresql://...  # Highest priority - v4.0 sport-specific schema
# NEON_DATABASE_URL=postgresql://...     # Lowest priority fallback

# Connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_POOL_TIMEOUT=30

# =============================================================================
# Application Settings
# =============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (enables detailed error messages)
DEBUG=false

# API server settings
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
# For development: http://localhost:3000,http://localhost:4321,http://localhost:5173
# For production: https://your-frontend-domain.com
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:4321,http://localhost:5173

# Production-only origins (added when ENVIRONMENT=production)
CORS_PRODUCTION_ORIGINS=https://scoracle.com,https://www.scoracle.com

# =============================================================================
# External API Keys
# =============================================================================
# API-Sports.com - Required for live data seeding
# Get your key at: https://dashboard.api-sports.io/
API_SPORTS_KEY=your_api_sports_key_here

# Twitter API v2 - Required for curated journalist feed
# Get your key at: https://developer.twitter.com/
TWITTER_BEARER_TOKEN=your_twitter_bearer_token

# Twitter/X List ID containing trusted sports journalists
# Create a List at x.com and copy the ID from the URL
TWITTER_JOURNALIST_LIST_ID=your_list_id

# NewsAPI.org - Optional, for premium news search (Google News RSS is free fallback)
# Get your key at: https://newsapi.org/
NEWS_API_KEY=your_news_api_key

# Reddit API - Deprecated (soft deprecated, not used in API)
# REDDIT_CLIENT_ID=your_reddit_client_id
# REDDIT_CLIENT_SECRET=your_reddit_client_secret

# =============================================================================
# Caching Configuration
# =============================================================================
# Enable/disable caching
CACHE_ENABLED=true

# Cache backend: memory (default) or redis
CACHE_BACKEND=memory

# Redis URL (only if CACHE_BACKEND=redis)
# REDIS_URL=redis://localhost:6379/0

# Cache TTLs are defined in code (api/cache.py) -- not configurable via env vars.

# Enable cache warming on startup
CACHE_WARMUP_ENABLED=true

# =============================================================================
# Rate Limiting (Optional)
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# PostgREST Configuration
# =============================================================================
# PostgREST runs as a separate Railway service (Docker Image source,
# image: postgrest/postgrest:v12.2.3). These env vars are set on that
# service in the Railway dashboard, NOT in this .env file:
#
#   PGRST_DB_URI            = (Neon connection string)
#   PGRST_JWT_SECRET        = (shared JWT signing secret)
#   PGRST_DB_SCHEMAS        = api
#   PGRST_DB_ANON_ROLE      = web_anon
#   PGRST_OPENAPI_MODE      = follow-privileges
#
# The Go service only needs the PostgREST URL for the multi-spec Swagger UI.
# In Railway, use the private internal service URL. Leave empty for localhost:3000.
POSTGREST_URL=http://localhost:3000

# Current seasons are defined in code (core/types.py SPORT_REGISTRY).
